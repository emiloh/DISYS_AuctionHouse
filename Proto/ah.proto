syntax = "proto3";

package Proto;

option go_package = "./Proto";

service AuctionHouse {
    rpc Bid(Offer) returns (Acknowledgement); 
    rpc Result(Info) returns (Offer);
    rpc View(EmptyRequest) returns (InfoList);
    rpc Register(RegisterRequest) returns (stream Response);
}

message Offer {
    int64 id = 1;
    string name = 2;
    int64 amount = 3;
    string user = 4;
    int64 timeleft = 5;
}

message Response {
    optional Offer offer = 1;
    optional Acknowledgement acknowledgement = 2;
    optional InfoList  infolist = 3;
}

message EmptyRequest {

}

message RegisterRequest {
    string id = 1;
}

message Acknowledgement {
    enum Status {
        FAIL = 0;
        SUCCES = 1;
        EXCEPTION = 2;
    }
    Status status = 1;
}

message Info {
    int64 id = 1;
}

message InfoList {
    repeated int64 id = 1;
    repeated string name = 2;
    repeated int64 timeleft = 3;
    repeated int64 amount = 4;
}